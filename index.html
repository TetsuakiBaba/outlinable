<!doctype html>
<html lang="ja">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Antique&display=swap" rel="stylesheet">

    <style>
        body {}

        p {
            line-height: 2.0em;
        }

        box {
            border-bottom: 1px solid black;
        }

        p#moji_count:before {
            content: '[文字数';
        }

        p#moji_count:after {
            content: ']';
        }

        [data-ruby] {
            position: relative;
        }

        [data-ruby]::before {
            content: attr(data-ruby);
            position: absolute;
            top: 0.6em;
            left: -0.5em;
            right: 0;
            margin: auto;
            font-size: 1.0em;
        }
    </style>
    <title>研究骨子ジェネレータ</title>
</head>

<body>
    <div class="container-sm">
        <h1>outlinable</h1>
        <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label">① あなたの俯瞰的な研究領域</label>
            <input type="text" class="form-control" value="スナック菓子業界" id="a1" oninput="update();">
        </div>
        <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label">② その領域で特にあなたが取り組む対象</label>
            <input type="text" class="form-control" value="ポテトチップス等の揚げ物菓子" id="a2" oninput="update();">
        </div>

        <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label">③ ②における既存の問題点</label>
            <input type="text" class="form-control" value="食事中における手指への油脂付着" id="a3" oninput="update();">
        </div>

        <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label">④ ③を解決するための手法</label>
            <input type="text" class="form-control" value="割り箸利用" id="a4" oninput="update();">
        </div>

        <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label">⑤ ③を解決することで実現できること</label>
            <input type="text" class="form-control" value="端末やキーボードを汚さずにyoutubeを閲覧できること" id="a5" oninput="update();">
        </div>

        <div class="alert alert-dark" role="alert">
            <h5 class="alert-heading">研究アウトライン</h5>
            <hr>
            <p id="outline">
                <script>
                    window.onload = function () {
                        update();
                    }
                    function update() {
                        console.log(document.querySelector("#a1"));
                        let a1 = document.querySelector("#a1").value;
                        let a2 = document.querySelector("#a2").value;
                        let a3 = document.querySelector("#a3").value;
                        let a4 = document.querySelector("#a4").value;
                        let a5 = document.querySelector("#a5").value;

                        let = outline = `<box data-ruby="①">${a1}</box>において、<box data-ruby='②'>${a2}</box>は広く知られている。<box data-ruby='②'>${a2}</box>ではこれまで<box data-ruby='③'>${a3}</box>に関する問題点があった。そこで我々は<box data-ruby='④'>${a4}</box>を利用することでこの問題を解決する。また、将来的には<box data-ruby='⑤'>${a5}</box>も実現可能となる。`;
                        document.querySelector('#outline').innerHTML = outline;

                        let no_tag_text = outline.replace(/(<([^>]+)>)/gi, '');
                        document.querySelector('#moji_count').innerHTML = no_tag_text.length;
                    }
                </script>
            </p>
            <p id="moji_count" class="text-muted small" style="text-align:right;padding:0px;margin:0px"></p>

        </div>

        <hr>
        <footer class="small text-muted text-center">
            2022 &copy; Tetsuaki Baba
        </footer>
    </div>


    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    -->
</body>

</html>